import numpy as np
n = int(input())
s = [[c for c in input()] for _ in range(5)]

# print(s)

t = np.array(s)


a0 = np.array([['#', '#', '#'],
               ['#', '.', '#'],
               ['#', '.', '#'],
               ['#', '.', '#'],
               ['#', '#', '#']])

a1 = np.array([['.', '#', '.'],
               ['#', '#', '.'],
               ['.', '#', '.'],
               ['.', '#', '.'],
               ['#', '#', '#']])

a2 = np.array([['#', '#', '#'],
               ['.', '.', '#'],
               ['#', '#', '#'],
               ['#', '.', '.'],
               ['#', '#', '#']])

a3 = np.array([['#', '#', '#'],
               ['.', '.', '#'],
               ['#', '#', '#'],
               ['.', '.', '#'],
               ['#', '#', '#']])

a4 = np.array([['#', '.', '#'],
               ['#', '.', '#'],
               ['#', '#', '#'],
               ['.', '.', '#'],
               ['.', '.', '#']])
a5 = np.array([['#', '#', '#'],
               ['#', '.', '.'],
               ['#', '#', '#'],
               ['.', '.', '#'],
               ['#', '#', '#']])
a6 = np.array([['#', '#', '#'],
               ['#', '.', '.'],
               ['#', '#', '#'],
               ['#', '.', '#'],
               ['#', '#', '#']])
a7 = np.array([['#', '#', '#'],
               ['.', '.', '#'],
               ['.', '.', '#'],
               ['.', '.', '#'],
               ['.', '.', '#']])
a8 = np.array([['#', '#', '#'],
               ['#', '.', '#'],
               ['#', '#', '#'],
               ['#', '.', '#'],
               ['#', '#', '#']])
a9 = np.array([['#', '#', '#'],
               ['#', '.', '#'],
               ['#', '#', '#'],
               ['.', '.', '#'],
               ['#', '#', '#']])

a = [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9]

ans = ""
for i in range(1, n+1):
    temp = t[:, 4*i-3:4*i]
    for k in range(10):
        if np.all(temp == a[k]):
            ans += str(k)

print(ans)
